<!DOCTYPE html>
<html lang="en">
<head>
    <title>README.md</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>
    <div class="banner">
        
        <h1>
            README.md
        </h1>
        <ul class="files">
            <li>README.md</li>
            <li>Last modified: 2022-11-06 15:24:38 +0000</li>
        </ul>
    </div>

    <main id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h1 id="label-ldbws-ruby">ldbws-ruby</h1>

<p>I’ll write a proper readme/howto at some point, but short version is that this is a Ruby wrapper around <a href="https://lite.realtime.nationalrail.co.uk/OpenLDBWS/">Network Rail‘s Live Departure Board web service</a> (LDBWS/OpenLDBWS)—I’ve trawled through their XSD files so you don’t have to =)</p>

<p>I built it for a project I’m hacking at + thought I’d release it into the world. It’s rough and ready right now, but it should be somewhat functional.</p>

<h2 id="label-HOWTO">HOWTO</h2>

<p>All operations are supported, in <code>snake_case</code>, thus:</p>

<pre><code>require &quot;path/to/ldbws&quot;

service = Ldbws.service(YOUR_API_TOKEN)
result = service.get_departure_board(crs: &quot;CDF&quot;)

puts &quot;TIME   PLAT  TO&quot;
result.train_services.each do |service|
  printf(
    &quot;%s   %-2s   %s  (%s)\n&quot;,
    service.std.strftime(&quot;%H:%M&quot;),
    service.platform || &quot;-&quot;,
    service.destination.first.name,
    service.operator
  )
end

# TIME   PLAT  TO
# 22:15   1    Warminster  (Great Western Railway)
# 22:24   7    Barry Island  (Transport for Wales)
# 22:26   2    Gloucester  (Transport for Wales)
# 22:30   3A   Carmarthen  (Transport for Wales)
# 22:39   4    Swansea  (Great Western Railway)
# [etc]
</code></pre>

<h2 id="label-TODO">TODO</h2>
<ul><li>
<p>[ ] write tests</p>
</li><li>
<p>[x] write documentation</p>
</li><li>
<p>[ ] parse train formation information</p>
</li><li>
<p>[ ] provide nicer wrapping of API calls to allow for caching/etc (technically complete, but I don’t like it)</p>
</li><li>
<p>[ ] release as a gem</p>
</li></ul>

<h2 id="label-Caveats">Caveats</h2>

<p>This is released into the world as-is. If you use it for something and end up missing your train, it’s not my fault :)</p>
<hr>

<p>Share and enjoy!</p>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
    
    
    
  
</div>

    </main>
  </body>
</html>
